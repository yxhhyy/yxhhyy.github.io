[{"title":"渗透测试","url":"/2024/12/08/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/","content":"这是一篇渗透测试的文章\n\n或写成矩阵——向量形式：Ax=b，其中A为系数矩阵，x为解向量，b为右端常向量，分别为\nA=(a11⋯a1n⋮⋱⋮an1⋯ann),x=(x1x2⋮xn),b=(b1b2⋮bn)A = \\begin{pmatrix}\na_{11} &amp; \\cdots &amp; a_{1n} \\\\\n\\vdots &amp; \\ddots &amp; \\vdots \\\\\na_{n1} &amp; \\cdots &amp; a_{nn}\n\\end{pmatrix},\nx = \\begin{pmatrix}\nx_1 \\\\\nx_2 \\\\\n\\vdots \\\\\nx_n\n\\end{pmatrix},\nb = \\begin{pmatrix}\nb_1 \\\\\nb_2 \\\\\n\\vdots \\\\\nb_n\n\\end{pmatrix}\nA=⎝⎜⎜⎛​a11​⋮an1​​⋯⋱⋯​a1n​⋮ann​​⎠⎟⎟⎞​,x=⎝⎜⎜⎜⎜⎛​x1​x2​⋮xn​​⎠⎟⎟⎟⎟⎞​,b=⎝⎜⎜⎜⎜⎛​b1​b2​⋮bn​​⎠⎟⎟⎟⎟⎞​\n\n\n","tags":["红队攻防"]},{"title":"编辑器漏洞","url":"/2024/12/09/%E7%BC%96%E8%BE%91%E5%99%A8%E6%BC%8F%E6%B4%9E/","content":"\n编辑器配合解析漏洞利用\n编辑器自身的漏洞利用\n比如说我们要搭建一个博客，就可能用到 wordpress、emlog、zblog，那比如我要搭建一个论坛，就可能用到 dz，搭建企业网站可能会用到 dedecms 等等这些 CMS，这些CMS的源码里面就可能会调用一些编辑器，比如说：eweb、fck、kindeditor、ueditor、ckfinder、texteditor，这些编辑器都是有专门的团队运营开发的，我们可以直接在CMS写好之后，直接使用接口进行调用就可以了\n源码本身可能没有漏洞，但是编辑器可能存在漏洞。如果网站本身找不到漏洞的话，我们就可以侧重于挖掘一下编辑器漏洞\n\n 编辑器路径查找\n\n\n\n\n确定编辑器\n网站可能会存在多个编辑器\n端口搭建的站点 经常存在编辑器漏洞\n编辑器不一定在根目录下面，也可能在二级目录下面\n一般情况下，带有 editor 或 edit 的都是编辑器的目录\n编辑器还会有一些固定的目录：ewebeditor.asp/htm 或 html 可以尝试访问一下\n\n\n找编辑器版本对应的漏洞\n\n\n漏洞利用\n\n\n\n FCK编辑器漏洞\n\nfckeditor\n一般放在根目录\n有可能也放在admin目录下\ninclude目录下 echosp cms\n\n\n一般存在 /usrfiles/image 这种目录都是使用的 FCK编辑器\n\nfck  ==&gt;  更新之后：ckeditor（漏洞相对较少）\n针对于版本漏洞利用\nfck &lt; 2.6.4\nfck配合解析漏洞利用\n看看网站容器有没有可以利用的解析漏洞\n查看编辑器版本找上传点 找漏洞利用\nIIS6.0存在很多解析漏洞，可以在上传文件的时候进行利用，比如：目录解析、畸形文件名解析、分号解析\n利用截断直接 getshell ：\n\n点前截断：1.asp%00.jpg （这个大概率会被再次解析为 jpg 文件）\n点后截断：1.asp%00jpg （选中 %00，然后 ctrl+shift+u 进行编码）\n\n\n\n版本：2.4\n\n配合解析漏洞\n利用%00截断getshell\n\n版本：2.5\n\n\n利用解析漏洞 递归创建 a.asp/1.asp\n\n\n利用%00截断getshell：a.asp%00jpg a.asp%00.jpg 这两种截断都要进行一下尝试\n如果碰到阿里云，上传后的文件名会被改为 a_asp，还会封你 IP\n解决方案：换 ip上传，截断连发三个包\n\na_asp\na(1)_asp\na(1).asp\n\n这种适用于 2.4.3 以下的，因为2.6.4以上的就会重命名为时间戳\n\n\n版本：2.6.3\n\n\n依旧可以尝试抓包进行截断：\n版本要求：[2.6.0，2.6.3]\n截断格式：URL %2F 00截断\n\n%2Fa.php%00：%2F是它本身就有的也就是/，我们可以上传一个1.jpg文件，然后抓包直接在%2F后面跟一个 a.php 之后使用 %00 截断，这样就可以在image目录下面创建出：image/a.php/1.jpg\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n EWEB编辑器漏洞\n\n\n\n找后台-登录后台-修改上传类型或上传样式，-getshell\neweb后台\newebeditor目录下：\nadmin/login.asp/php/aspx/jsp\nadmin_login.asp\nadmin_style.asp\n想办法登录后台：\n\n\n尝试弱口令\n\n\n爆破\n\n\n下载默认数据库地址（可以尝试一下下面的地址，如果有数据库的话会直接下载）\n/ewebeditor/db/ewebeditor.mdb\n/ewebeditor/db/%23ewebeditor.mdb (有一些如果把#修改为%23就可以下载数据库)\n/ewebeditor/db/data.mdb\n/ewebeditor/db/db.mdb\n适用于03 iis6.版本可以下载，如果是08以上的服务器，禁止下载mdb文件\n\n\n注入得到账号密码\n\n\n\n\n如果没后台-或者进不去后台\n通过目录遍历漏洞（…/…），找网站数据库地址，下载网站数据库 解密-登录网站后台-getshell\n百度查找编辑器对应漏洞利用，找相关的EXP\n如果之前被别人修改过上传类型，可以下载数据库查看类型样式id，构造上传getshell\n\n\n\n 其他编辑器利用\n CKFinder任意文件上传漏洞\n\n 南方数据编辑器southidceditor\n\n\n ueditor\n\n DotNetTextBox编辑器漏洞\n\n\n phpweb网站管理系统后台kedit编辑器\n\n Cute Editor在线编辑器本地包含漏洞\n\n Cute Editor Asp.Net版利用iis解析漏洞获得权限\n\n","tags":["内网渗透"]}]